import java.util.Arrays;

public class FloydWarshell {
	static int maxn;
	int dis[][] = new int[maxn][maxn]; // 权值矩阵,初始化为INF,令dis[i][i]=0
	int path[][] = new int[maxn][maxn];//path[i][j]记录i到j最路径上j的前驱点
	int n; // n个结点

	void initDis() {
		// 权值矩阵预处理，假设结点从0到n-1编号
		Arrays.fill(dis, Integer.MAX_VALUE);
		for (int i = 0; i < n; i++)
			dis[i][i] = 0;
	}

	void initPath() {
		// 路径预处理，记录每个节点的父节点
		for (int i = 0; i < n; i++) {
			for (int j = 0; j < n; j++) {
				if (dis[i][j] < Integer.MAX_VALUE)
					path[i][j] = i;
			}
		}
	}

	void floyd() {
		for (int k = 0; k < n; k++)
		for (int i = 0; i < n; i++)
		for (int j = 0; j < n; j++)
			if (dis[i][k] < Integer.MAX_VALUE && dis[k][j] < Integer.MAX_VALUE) // 这样避免了溢出问题
			{
				if (dis[i][k] + dis[k][j] < dis[i][j]) {
					dis[i][j] = dis[i][k] + dis[k][j];
					path[i][j] = path[k][j];
				}
			}
	}
	void output(int i,int j) {
		if(i==j) return;
		if(path[i][j]==-1)  System.out.println(j+" ");
		else {
			output(i, path[i][j]);
			
		}
	}

}
